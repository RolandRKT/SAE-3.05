{% block styles %}
<link rel="stylesheet" href="../static/les_parcours.css">
{% endblock %}
{% block content %}
<div class = "main-part">
    <section class="left-part">
        <div class="search-input-container">
            <input class="form-control me-2" type="search" name="query" placeholder="Rechercher un parcours" aria-label="Search">
            <img id="toggleSearch" class="search-toggle" src="../static/images/chercher.png" alt="Rechercher" onclick="redirectToSearch()"/>
        </div>
        <div>
            <h2 class="parcours-left">Les parcours</h2> 
            <div class = "liste-parcours">
                {% for parc in liste_parc %}
                    <a href="#parcours-{{ parc[0].get_nom_parc() }}">{{ parc[0].get_nom_parc() }}</a>
                {% endfor %}
            </div>
        </div>
    </section>
    <section class="right-part">
        <h2>Parcours Disponible</h2>
        {% for parc in liste_parc %}
            <div class="box-parcours">
                <h3 id="parcours-{{ parc[0].get_nom_parc() }}">{{ parc[0].get_nom_parc() }}</h3>
                <div class="img-desc">
                    {% if parc[1] %}
                        <img src="{{ url_for('static', filename='images/' + parc[1]) }}" alt="image de l'element static">
                    {% else %}
                        <img src="{{parc[1]}}" alt="image internet ne marche pas">
                    {% endif %}
                    <p>{{ parc[0].get_description() }}</p>
                </div>
            </div>
        {% endfor %}
    </section>
</div>
<script>
    function redirectToSearch() {
        var searchQuery = document.getElementById("search-input").value;
        var searchUrl = "{{ url_for('search') }}?query=" + searchQuery;
        window.location.href = searchUrl;
    }
</script>
    
{% endblock %}